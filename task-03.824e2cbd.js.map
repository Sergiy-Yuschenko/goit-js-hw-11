{"version":3,"sources":["task-03.js"],"names":["inputFirstEl","document","querySelector","buttonFirstEl","disabled","inputDelay","addEventListener","event","currentTarget","value","removeAttribute","delay","ms","Promise","resolve","setTimeout","logger","time","console","log","then","inputSecondEl","buttonSecondEl","selectedUser","users","name","active","toggleUserState","allUsers","username","map","user","table","buttonThirdEl","selectedTransactionId","randomIntegerFromInterval","min","max","Math","floor","random","makeTransaction","transactionId","onSuccess","onError","id","processingTransaction","catch","err","warn"],"mappings":";;;AA2IA,aA3IA,QAAA,oBAQA,MAAMA,EAAeC,SAASC,cAAc,gBAEtCC,EAAgBF,SAASC,cAAc,gBAE7CC,EAAcC,SAAW,OAEzB,IAAIC,EAAa,KAIjBL,EAAaM,iBAAiB,QAAUC,IACtCF,EAAwC,EAA3BE,EAAMC,cAAcC,MAC7BF,EAAMC,cAAcC,OAASF,EAAMC,cAAcC,MAAQ,GAAKF,EAAMC,cAAcC,OAAS,IAC7FN,EAAcO,gBAAgB,YAE9BP,EAAcC,SAAW,SAK7B,MAAMO,EAAQC,GACL,IAAIC,QAASC,IAClBC,WAAW,KACTD,EAAQF,IAEPA,KAKDI,EAASC,GAAQC,QAAQC,uBAAuBF,OAGtDd,EAAcG,iBAAiB,QAAS,KACtCK,EAAMN,GAAYe,KAAKJ,KAazB,MAAMK,EAAgBpB,SAASC,cAAc,iBAEvCoB,EAAiBrB,SAASC,cAAc,iBAE9CoB,EAAelB,SAAW,OAE1B,IAAImB,EAAe,KAEnB,MAAMC,EAAQ,CACZ,CAAEC,KAAM,QAASC,QAAQ,GACzB,CAAED,KAAM,OAAQC,QAAQ,GACxB,CAAED,KAAM,OAAQC,QAAQ,IAGpBC,EAAkB,CAACC,EAAUC,IAExB,IAAIhB,QAASC,IAClBA,EAAQc,EAASE,IAAIC,GACnBA,EAAKN,OAASI,EAAW,IAAKE,EAAML,QAASK,EAAKL,QAAWK,MAMrEV,EAAcf,iBAAiB,QAAUC,IACL,cAA9BA,EAAMC,cAAcC,MACtBa,EAAeZ,gBAAgB,YAE/BY,EAAelB,SAAW,OAE5BmB,EAAehB,EAAMC,cAAcC,QAGrCa,EAAehB,iBAAiB,QAAS,KACvCqB,EAAgBH,EAAOD,GAAcH,KAAKF,QAAQc,SASpD,MAAMC,EAAgBhC,SAASC,cAAc,gBAE7C,IAAIgC,EAAwB,OAI5B,MAAMC,EAA4B,CAACC,EAAKC,IAC/BC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,EAAM,GAAKA,GAGhDK,EAAmBC,IACjB/B,MAAAA,EAAQwB,EAA0B,IAAK,KACtC,OAAA,IAAItB,QAAQ,CAAC8B,EAAWC,KAC7B7B,WAAW,KACUuB,KAAKE,SAAW,GAEjCG,EAAU,CAAEE,GAAIH,EAAezB,KAAMN,IAErCiC,EAAQF,IAET/B,MAIDmC,EAAyBrC,IAC7BgC,EAAgBhC,GACbW,KAAMX,IACPS,QAAQC,mBAAmBV,EAAMoC,mBAAmBpC,EAAMQ,YAEzD8B,MAAMC,IACP9B,QAAQ+B,qCAAqCD,iCAKjDf,EAAc3B,iBAAiB,QAAS,KACtC4B,EAAwBI,KAAKC,MAAsB,IAAhBD,KAAKE,UACxCM,EAAsBZ","file":"task-03.824e2cbd.js","sourceRoot":"../src","sourcesContent":["import './sass/main.scss';\n\n\n\n\n//------------ ПІДЗАВДАННЯ 1 -----------------\n\n//Знаходимо інпут підзавдання 1\nconst inputFirstEl = document.querySelector('#first-input');\n//Знаходимо кнопку підзавдання 1\nconst buttonFirstEl = document.querySelector('[data-first]');\n//дезактивуємо кнопку підзавдання 1\nbuttonFirstEl.disabled = 'true';\n//контейнер для зберігання значення введеного в інпут підзавдання 1\nlet inputDelay = null;\n\n\n//Слухач інпуту підзавдання 1\ninputFirstEl.addEventListener('input', (event) => {\n  inputDelay = event.currentTarget.value *1;\n  if (event.currentTarget.value && event.currentTarget.value > 0 && event.currentTarget.value <= 10000) {\n    buttonFirstEl.removeAttribute('disabled');\n  } else {\n    buttonFirstEl.disabled = 'true';\n  }\n});\n\n// Функція яка повертає проміс, який виконується після затримки\nconst delay = ms => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(ms);\n      // reject('ups');\n    }, ms);\n  });\n};\n\n//Функція яка чіпляється на обробку проміса\nconst logger = time => console.log(`Fulfilled after ${time}ms`);\n\n//Слухач кнопки підзавдання 1\nbuttonFirstEl.addEventListener('click', () => {\n  delay(inputDelay).then(logger);\n});\n\n// delay(inputDelay).then(logger)\n\n// // Tests\n// delay(inputDelay).then(logger); // Fulfilled after 2000ms\n// delay(1000).then(logger); // Fulfilled after 1000ms\n// delay(1500).then(logger); // Fulfilled after 1500ms\n\n//------------ ПІДЗАВДАННЯ 2 -----------------\n\n//Знаходимо інпут підзавдання 1\nconst inputSecondEl = document.querySelector('#second-input');\n//Знаходимо кнопку підзавдання 1\nconst buttonSecondEl = document.querySelector('[data-second]');\n\nbuttonSecondEl.disabled = 'true';\n\nlet selectedUser = null;\n\nconst users = [\n  { name: 'Mango', active: true },\n  { name: 'Poly', active: false },\n  { name: 'Ajax', active: false },\n];\n\nconst toggleUserState = (allUsers, username) => {\n\n    return new Promise((resolve) => {\n      resolve(allUsers.map(user =>\n        user.name === username ? { ...user, active: !user.active } : user\n      ));\n    });\n};\n\n//Слухач елементу поля \"select\"\ninputSecondEl.addEventListener('input', (event) => {\n  if (event.currentTarget.value !== \"undefined\") {\n    buttonSecondEl.removeAttribute('disabled');\n  } else {\n    buttonSecondEl.disabled = 'true';\n  }\n  selectedUser = event.currentTarget.value;\n});\n//Слухач кнопки підзавдання 2\nbuttonSecondEl.addEventListener('click', () => {\n  toggleUserState(users, selectedUser).then(console.table);\n});\n\n// // // The function should work like this\n// toggleUserState(users, 'Mango').then(console.table);\n// toggleUserState(users, 'Ajax').then(console.table);\n\n//------------ ПІДЗАВДАННЯ 3 -----------------\n\nconst buttonThirdEl = document.querySelector('[data-third]');\n\nlet selectedTransactionId = \"null\";\n\n\n\nconst randomIntegerFromInterval = (min, max) => {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n};\n \nconst makeTransaction = (transactionId) => {\n  const delay = randomIntegerFromInterval(200, 500);\n  return new Promise((onSuccess, onError) => {\n    setTimeout(() => {\n      const canProcess = Math.random() > 0.3;\n      if (canProcess) {\n        onSuccess({ id: transactionId, time: delay});\n      } else {\n        onError(transactionId);\n      }\n    }, delay);\n  });\n};\n\nconst processingTransaction = (value) => {\n  makeTransaction(value)\n    .then((value) => {\n    console.log(`Transaction ${value.id} processed in ${value.time}ms`);\n  })\n    .catch(err => {\n    console.warn(`Error processing transaction ${err}. Please try again later.`);\n  });\n} \n\n\nbuttonThirdEl.addEventListener('click', () => {\n  selectedTransactionId = Math.floor(Math.random() * 100);\n  processingTransaction(selectedTransactionId);\n});\n\n// processingTransaction(70);\n// processingTransaction(71);"]}